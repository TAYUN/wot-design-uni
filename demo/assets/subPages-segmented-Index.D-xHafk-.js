var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,o=(e,a)=>{for(var t in a||(a={}))l.call(a,t)&&i(e,t,a[t]);if(s)for(var t of s(a))n.call(a,t)&&i(e,t,a[t]);return e},u=(e,s)=>a(e,t(s));import{b as d,_ as r}from"./page-wraper.CYTeNmK-.js";import{d as p,al as c,c as v,O as m,C as f,J as g,y as b,N as y,L as _,H as h,G as w,b as x,g as j,w as $,m as k,h as z,F as I,n as q,i as O,q as S,l as C,D as U,j as P,t as A,E as L,b5 as E,u as N,r as V,e as D,f as G,p as H}from"./index-Ddr6X_C9.js";import{b as F,c as J,a as R,e as X,_ as B}from"./base64.DGXTDNor.js";import{_ as K}from"./demo-block.D-RAYQ1B.js";import{_ as M}from"./wd-button.C_ePM_xj.js";import{a as Q}from"./wd-loading.CTKNgZO5.js";const T=u(o({},F),{value:X([String,Number]),disabled:J(!1),size:R("middle"),options:{type:Array,required:!0,default:()=>[]},vibrateShort:J(!1)}),W=B(p(u(o({},{name:"wd-segmented",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:T,emits:["update:value","change","click"],setup(e,{expose:a,emit:t}){const s=".wd-segmented__item",l=e,n=t,i=c({activeIndex:0,activeStyle:""}),o=v((()=>l.disabled||!(!l.options[0]||!m(l.options[0]))&&l.options[0].disabled));f((()=>l.value),(()=>{r(),d(),l.vibrateShort&&E({})}),{immediate:!1});const{proxy:u}=g();function d(e=!0){_(s,!0,u).then((a=>{const t=a[i.activeIndex],s={position:"absolute",width:h(t.width),"z-index":0},l=a.slice(0,i.activeIndex).reduce(((e,a)=>e+Number(a.width)),0);l&&(s.transform=`translateX(${l}px)`),e&&(s.transition="all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1)"),i.activeStyle=w(s)}))}function r(){const e=l.options.findIndex((e=>(m(e)?e.value:e)==l.value));if(e>=0)i.activeIndex=e;else{const e=m(l.options[0])?l.options[0].value:l.options[0];n("update:value",e),n("change",m(l.options[0])?l.options[0]:{value:e})}}return b((()=>{return e=this,a=null,t=function*(){r(),yield y(),d(!1)},new Promise(((s,l)=>{var n=e=>{try{o(t.next(e))}catch(a){l(a)}},i=e=>{try{o(t.throw(e))}catch(a){l(a)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,i);o((t=t.apply(e,a)).next())}));var e,a,t})),a({updateActiveStyle:d}),(e,a)=>{const t=O;return j(),x(t,{class:S(`wd-segmented ${e.customClass}`),style:L(e.customStyle)},{default:$((()=>[(j(!0),k(I,null,q(e.options,((a,s)=>(j(),x(t,{class:S(`wd-segmented__item is-${e.size} ${i.activeIndex===s?"is-active":""} ${e.disabled||C(m)(a)&&a.disabled?"is-disabled":""}`),onClick:e=>function(e,a){if(l.disabled||m(e)&&e.disabled)return;const t=m(e)?e.value:e;i.activeIndex=a,d(),n("update:value",t),n("change",m(e)?e:{value:t}),n("click",m(e)?e:{value:t})}(a,s),key:s},{default:$((()=>[z(t,{class:"wd-segmented__item-label"},{default:$((()=>[e.$slots.label?U(e.$slots,"label",{key:0,option:C(m)(a)?a:{value:a}},void 0,!0):(j(),k(I,{key:1},[P(A(C(m)(a)?a.value:a),1)],64))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),z(t,{class:S("wd-segmented__item--active "+(o.value?"is-disabled":"")),style:L(i.activeStyle)},null,8,["class","style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-d826b72d"]]),Y=B(p({__name:"Index",setup(e){const{t:a}=N(),t=v((()=>[a("pingLun"),a("dian-zan"),a("gong-xian"),a("da-shang")])),s=v((()=>[{value:a("li-lei"),disabled:!1,payload:{avatar:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/redpanda.jpg"}},{value:a("han-mei-mei"),disabled:!1,payload:{avatar:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/capybara.jpg"}},{value:a("lin-tao"),disabled:!0,payload:{avatar:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/panda.jpg"}},{value:a("tom"),disabled:!1,payload:{avatar:"https://registry.npmmirror.com/wot-design-uni-assets/*/files/meng.jpg"}}])),l=V(a("jian-jie")),n=V(a("xiang-qing")),i=V(a("pingLun")),o=V(a("da-shang-0")),u=V(a("han-mei-mei-0")),p=V(a("pingLun"));function c(e){console.log(e)}const m=V(a("dian-zan")),f=V(),g=V(!1);function b(){g.value=!0}function y(){var e;null==(e=f.value)||e.updateActiveStyle()}return(e,a)=>{const v=D(G("wd-toast"),d),_=D(G("wd-segmented"),W),h=O,w=D(G("demo-block"),K),k=H,I=D(G("wd-button"),M),q=D(G("wd-popup"),Q),S=D(G("page-wraper"),r);return j(),x(h,null,{default:$((()=>[z(v),z(S,null,{default:$((()=>[z(w,{title:e.$t("da-xing-fen-duan-qi"),transparent:""},{default:$((()=>[z(h,{class:"section"},{default:$((()=>[z(_,{options:t.value,value:l.value,"onUpdate:value":a[0]||(a[0]=e=>l.value=e),size:"large",onChange:c},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),z(w,{title:e.$t("mo-ren-fen-duan-qi"),transparent:""},{default:$((()=>[z(h,{class:"section"},{default:$((()=>[z(_,{options:t.value,value:n.value,"onUpdate:value":a[1]||(a[1]=e=>n.value=e)},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),z(w,{title:e.$t("xiao-xing-fen-duan-qi"),transparent:""},{default:$((()=>[z(h,{class:"section"},{default:$((()=>[z(_,{options:t.value,value:i.value,"onUpdate:value":a[2]||(a[2]=e=>i.value=e),size:"small"},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),z(w,{title:e.$t("dai-zhen-dong-xiao-guo-de-fen-duan-qi"),transparent:""},{default:$((()=>[z(h,{class:"section"},{default:$((()=>[z(_,{options:t.value,value:o.value,"onUpdate:value":a[3]||(a[3]=e=>o.value=e),"vibrate-short":!0},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),z(w,{title:e.$t("jin-yong-fen-duan-qi"),transparent:""},{default:$((()=>[z(h,{class:"section"},{default:$((()=>[z(_,{options:t.value,value:p.value,"onUpdate:value":a[4]||(a[4]=e=>p.value=e),disabled:""},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),z(w,{title:e.$t("zi-ding-yi-xuan-ran-fen-duan-qi-biao-qian"),transparent:""},{default:$((()=>[z(h,{class:"section"},{default:$((()=>[z(_,{options:s.value,value:u.value,"onUpdate:value":a[5]||(a[5]=e=>u.value=e),"vibrate-short":!0,onChange:c},{label:$((({option:e})=>[z(h,{class:"section-slot"},{default:$((()=>[z(k,{style:{"border-radius":"50%",width:"32px",height:"32px"},src:e.payload.avatar},null,8,["src"]),z(h,{class:"name"},{default:$((()=>[P(A(e.value),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["options","value"])])),_:1})])),_:1},8,["title"]),z(w,{title:e.$t("zai-dan-chu-kuang-zhong-shi-yong"),transparent:""},{default:$((()=>[z(h,{class:"section"},{default:$((()=>[z(I,{onClick:b},{default:$((()=>[P(A(e.$t("da-kai-dan-chuang")),1)])),_:1})])),_:1})])),_:1},8,["title"]),z(q,{modelValue:g.value,"onUpdate:modelValue":a[7]||(a[7]=e=>g.value=e),position:"bottom",onAfterEnter:y,closable:"","custom-style":"height: 200px;padding: 0 24rpx;"},{default:$((()=>[z(h,{class:"title"},{default:$((()=>[P(A(e.$t("zai-dan-chu-kuang-zhong-shi-yong-0")),1)])),_:1}),z(_,{options:t.value,value:m.value,"onUpdate:value":a[6]||(a[6]=e=>m.value=e),onChange:c,ref_key:"segmentedRef",ref:f},null,8,["options","value"])])),_:1},8,["modelValue"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-f034bc88"]]);export{Y as default};
