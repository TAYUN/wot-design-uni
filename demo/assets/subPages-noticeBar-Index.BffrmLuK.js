var i=Object.defineProperty,t=Object.defineProperties,e=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,e,a)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,s=(i,t)=>{for(var e in t||(t={}))n.call(t,e)&&l(i,e,t[e]);if(a)for(var e of a(t))o.call(t,e)&&l(i,e,t[e]);return i},u=(i,a)=>t(i,e(a)),r=(i,t,e)=>new Promise(((a,n)=>{var o=i=>{try{s(e.next(i))}catch(t){n(t)}},l=i=>{try{s(e.throw(i))}catch(t){n(t)}},s=i=>i.done?a(i.value):Promise.resolve(i.value).then(o,l);s((e=e.apply(i,t)).next())}));import{d as x,r as c,c as h,al as d,G as g,B as y,J as f,C as p,y as b,aJ as v,a9 as w,aC as m,b as z,z as _,g as k,w as $,D as j,h as q,i as C,E as P,m as D,F as O,n as S,j as T,t as F,q as I,L as A,M as B,u as E,e as G,f as J,P as Y}from"./index-Ddr6X_C9.js";import{b as H,a as L,c as M,m as N,w as X,_ as K}from"./base64.DGXTDNor.js";import{_ as Q}from"./demo-block.D-RAYQ1B.js";import{_ as R}from"./wd-button.C_ePM_xj.js";import{_ as U}from"./page-wraper.CYTeNmK-.js";import"./wd-loading.CTKNgZO5.js";const V=u(s({},H),{text:{type:[String,Array],default:""},type:L("warning"),scrollable:M(!0),delay:N(1),speed:N(50),closable:M(!1),wrapable:M(!1),prefix:String,color:String,backgroundColor:String,direction:L("horizontal")}),W=K(x(u(s({},{name:"wd-notice-bar",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:V,emits:["close","next","click"],setup(i,{expose:t,emit:e}){const a=".wd-notice-bar__wrap",n=".wd-notice-bar__content",o=i,l=e,s=c(0),u=c(!0),x=c(0),E=h((()=>Array.isArray(o.text)?o.text:[o.text])),G=h((()=>E.value[x.value])),J=c(0),Y=c(null),H=c(null),L=h((()=>"horizontal"===o.direction)),M=h((()=>"vertical"===o.direction)),N=d({transitionProperty:"unset",transitionDelay:"unset",transitionDuration:"unset",transform:"none",transitionTimingFunction:"linear"}),K=h((()=>g(N))),Q=h((()=>{const i={};return y(o.color)&&(i.color=o.color),y(o.backgroundColor)&&(i.background=o.backgroundColor),`${g(i)}${o.customStyle}`})),R=h((()=>{const{type:i,wrapable:t,scrollable:e}=o;let a=[];return i&&a.push(`is-${i}`),L.value?!t&&!e&&a.push("wd-notice-bar--ellipse"):a.push("wd-notice-bar--ellipse"),t&&!e&&a.push("wd-notice-bar--wrap"),a.join(" ")})),{proxy:U}=f();function V(){Z(),W()}function W(){m((()=>function(){return r(this,null,(function*(){const[i,t]=yield ei();i.width&&t.width&&t.height&&(Y.value=i,H.value=t,s.value=i.width,L.value?o.scrollable&&ti({duration:t.width/o.speed,delay:o.delay,translate:-t.width}):E.value.length>1&&ai(t.height))}))}()))}function Z(){N.transitionProperty="unset",N.transitionDelay="unset",N.transitionDuration="unset",N.transform="none",N.transitionTimingFunction="linear",x.value=0,J.value=0}function ii(){u.value=!1,l("close")}function ti({duration:i,delay:t,translate:e}){N.transitionProperty="all",N.transitionDelay=`${t}s`,N.transitionDuration=`${i}s`,N.transform=`${"vertical"===o.direction?"translateY":"translateX"}(${e}px)`,N.transitionTimingFunction="linear"}function ei(){return Promise.all([A(a,!1,U),A(n,!1,U)])}function ai(i){return r(this,null,(function*(){const t=-i/(E.value.length+1)*(x.value+1);ti({duration:i/(E.value.length+1)/o.speed,delay:o.delay,translate:t})}))}function ni(){L.value?ti({duration:0,delay:0,translate:s.value+1}):++J.value>=E.value.length&&(J.value=0,ti({duration:0,delay:0,translate:0}));const i=setTimeout((()=>{x.value>=E.value.length-1?x.value=0:x.value++,l("next",x.value),m((()=>r(this,null,(function*(){try{const[i,t]=yield ei();Y.value=i,H.value=t,s.value=i.width||0}catch(i){}H.value&&H.value.width&&H.value.height&&(L.value?ti({duration:(s.value+H.value.width)/o.speed,delay:o.delay,translate:-H.value.width}):ai(H.value.height))})))),clearTimeout(i)}),20)}function oi(){const i=B(o.text)?{index:x.value,text:o.text[x.value]}:{index:0,text:o.text};l("click",i)}return p((()=>o.text),(()=>{V()}),{deep:!0}),b((()=>{W()})),v((()=>{W()})),w((()=>{Z()})),t({reset:V}),(i,t)=>{const e=C;return u.value?(k(),z(e,{key:0,class:I(`wd-notice-bar ${i.customClass} ${R.value}`),style:P(Q.value)},{default:$((()=>[i.prefix?(k(),z(X,{key:0,"custom-class":"wd-notice-bar__prefix",name:i.prefix},null,8,["name"])):j(i.$slots,"prefix",{key:1},void 0,!0),q(e,{class:"wd-notice-bar__wrap"},{default:$((()=>[q(e,{class:"wd-notice-bar__content",style:P(K.value),onTransitionend:ni,onClick:oi},{default:$((()=>[M.value?(k(),D(O,{key:0},[(k(!0),D(O,null,S(E.value,(i=>(k(),z(e,{key:i},{default:$((()=>[T(F(i),1)])),_:2},1024)))),128)),E.value.length>1?(k(),z(e,{key:0},{default:$((()=>[T(F(E.value[0]),1)])),_:1})):_("",!0)],64)):j(i.$slots,"default",{key:1},(()=>[T(F(G.value),1)]),!0)])),_:3},8,["style"])])),_:3}),i.closable?(k(),z(X,{key:2,"custom-class":"wd-notice-bar__suffix",name:"close-bold",onClick:ii})):j(i.$slots,"suffix",{key:3},void 0,!0)])),_:3},8,["class","style"])):_("",!0)}}})),[["__scopeId","data-v-1bbff693"]]),Z=K(x({__name:"Index",setup(i){const{t:t}=E(),e=c();function a(){var i;null==(i=e.value)||i.reset()}const n=c([t("huan-ying-shi-yong-wot-design-uni"),t("gai-zu-jian-ku-ji-yu-uniapp-vue3-ts-gou-jian"),t("xiang-mu-di-zhi-httpsgithubcommoonofweishengwotdesignuni"),t("wo-men-de-mu-biao-shi-da-zao-zui-qiang-uniapp-zu-jian-ku"),t("cheng-zhi-yao-qing-da-jia-gong-tong-jian-she"),t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi")]),o=i=>{console.log("展示下一条，index: ",i),console.log("文本是："+n.value[i])};function l(i){console.log(i)}return(i,t)=>{const s=G(J("wd-notice-bar"),W),u=G(J("demo-block"),Q),r=G(J("wd-icon"),X),x=G(J("wd-button"),R),c=C,h=G(J("page-wraper"),U);return k(),z(h,null,{default:$((()=>[q(c,null,{default:$((()=>[q(u,{title:i.$t("jiBenYongFa")},{default:$((()=>[q(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi"),prefix:"warn-bold"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("lei-xing-xiu-gai")},{default:$((()=>[q(s,{type:"danger",text:i.$t("dang-qian-wang-luo-bu-ke-yong-qing-jian-cha-ni-de-wang-luo-she-zhi-dang-qian-wang-luo-bu-ke-yong-qing-jian-cha-ni-de-wang-luo-she-zhi"),prefix:"wifi-error","custom-class":"space"},null,8,["text"]),q(s,{type:"info",text:i.$t("dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing"),prefix:"check-outline"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("jin-zhi-gun-dong")},{default:$((()=>[q(s,{scrollable:!1,text:i.$t("yu-mai-gui-hua-tong-zai-jiu-zhong-bu-si-shao-nian-you"),prefix:"warn-bold"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("cha-cao")},{default:$((()=>[q(s,{scrollable:!1},{prefix:$((()=>[q(r,{"custom-class":"prefix",name:"warn-bold"},{default:$((()=>[T(F(i.$t("zhan-wei-fu")),1)])),_:1})])),suffix:$((()=>[Y("div",{style:{color:"#4d80f0"}},F(i.$t("cha-kan")),1)])),default:$((()=>[T(" "+F(i.$t("tong-zhi-bei-jin-huo-shi-duan-nei-xiao-xi-ping-bi-ke-neng-zao-cheng-xiao"))+" ",1)])),_:1})])),_:1},8,["title"]),q(u,{title:i.$t("ke-guan-bi-de")},{default:$((()=>[q(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-0"),closable:"",prefix:"warn-bold"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("duo-hang-zhan-shi")},{default:$((()=>[q(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi"),wrapable:"",scrollable:!1},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("zi-ding-yi-yan-se-0")},{default:$((()=>[q(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-1"),prefix:"check-outline",color:"#34D19D","background-color":"#f0f9eb"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("duo-wen-ben-lun-bo")},{default:$((()=>[q(s,{onClick:l,text:n.value,prefix:"check-outline",onNext:o},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("chui-zhi-gun-dong")},{default:$((()=>[q(s,{onClick:l,prefix:"warn-bold",direction:"vertical",text:n.value,delay:3,"custom-class":"space"},null,8,["text"]),q(s,{onClick:l,prefix:"warn-bold",direction:"vertical",text:i.$t("zhi-you-yi-tiao-xiao-xi-bu-hui-gun-dong"),delay:3,"custom-class":"space"},null,8,["text"])])),_:1},8,["title"]),q(u,{title:i.$t("zhong-zhi-bo-fang-dong-hua")},{default:$((()=>[q(s,{ref_key:"notice",ref:e,prefix:"warn-bold",direction:"vertical",text:n.value,delay:3,"custom-class":"space"},null,8,["text"]),q(x,{onClick:a},{default:$((()=>[T(F(i.$t("zhong-zhi-bo-fang-dong-hua-0")),1)])),_:1})])),_:1},8,["title"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-97a64a1b"]]);export{Z as default};
