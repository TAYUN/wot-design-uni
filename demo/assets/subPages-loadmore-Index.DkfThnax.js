var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,d=(e,a)=>{for(var s in a||(a={}))r.call(a,s)&&l(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&l(e,s,a[s]);return e},n=(e,t)=>a(e,s(t));import{d as i,c as u,B as c,Q as m,R as f,r as p,b as _,g,w as v,z as b,m as y,j as w,t as h,l as j,F as x,h as O,k as T,S as P,T as S,E as k,q as C,i as I,U as E,V as q,e as z,f as R,n as $,p as A}from"./index-Ddr6X_C9.js";import{_ as B}from"./wd-divider.D9p5KHBc.js";import{b as D}from"./wd-loading.CTKNgZO5.js";import{b as F,w as G,_ as H}from"./base64.DGXTDNor.js";import{u as L}from"./useTranslate.zeM_cXdJ.js";import{_ as Q}from"./page-wraper.CYTeNmK-.js";const U=n(d({},F),{state:String,loadingText:String,finishedText:String,errorText:String,loadingProps:Object}),V=H(i(n(d({},{name:"wd-loadmore",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:U,emits:["reload"],setup(e,{emit:a}){const s=u((()=>{const e=c(t.loadingProps)?m(t.loadingProps,f):{};return e.customClass=`wd-loadmore__loading ${e.customClass||""}`,e})),t=e,r=a,{translate:o}=L("loadmore"),l=p(null);function d(){"error"===t.state&&(l.value="loading",r("reload"))}return(e,a)=>{const t=T,r=I;return g(),_(r,{class:C(["wd-loadmore",e.customClass]),style:k(e.customStyle),onClick:d},{default:v((()=>["finished"===e.state?(g(),_(B,{key:0},{default:v((()=>[w(h(e.finishedText||j(o)("finished")),1)])),_:1})):b("",!0),"error"===e.state?(g(),y(x,{key:1},[O(t,{class:"wd-loadmore__text"},{default:v((()=>[w(h(e.errorText||j(o)("error")),1)])),_:1}),O(t,{class:"wd-loadmore__text is-light"},{default:v((()=>[w(h(j(o)("retry")),1)])),_:1}),O(G,{name:"refresh","custom-class":"wd-loadmore__refresh"})],64)):b("",!0),"loading"===e.state?(g(),y(x,{key:2},[O(D,P(S(s.value)),null,16),O(t,{class:"wd-loadmore__text"},{default:v((()=>[w(h(e.loadingText||j(o)("loading")),1)])),_:1})],64)):b("",!0)])),_:1},8,["class","style"])}}})),[["__scopeId","data-v-80386a47"]]),J=H(i({__name:"Index",setup(e){const a=p("loading"),s=p(0),t=p(60);function r(){setTimeout((()=>{s.value=s.value+15,a.value="loading"}),200)}return E((()=>{45===s.value?a.value="error":s.value<t.value?r():s.value===t.value&&(a.value="finished")})),q((()=>{r()})),(e,t)=>{const o=A,l=I,d=z(R("wd-loadmore"),V),n=z(R("page-wraper"),Q);return g(),_(n,null,{default:v((()=>[O(l,{class:"container"},{default:v((()=>[(g(!0),y(x,null,$(s.value,(a=>(g(),_(l,{key:a,class:"list-item"},{default:v((()=>[O(o,{src:"https://img10.360buyimg.com/jmadvertisement/jfs/t1/70325/36/14954/36690/5dcd3e3bEee5006e0/aed1ccf6d5ffc764.png"}),O(l,{class:"right"},{default:v((()=>[w(h(e.$t("zhe-shi-yi-tiao-ce-shi-index")+a+1),1)])),_:2},1024)])),_:2},1024)))),128)),O(d,{state:a.value,onReload:r},null,8,["state"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-bde3d351"]]);export{J as default};
