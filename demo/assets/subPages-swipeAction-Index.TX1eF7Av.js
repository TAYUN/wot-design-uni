var t=Object.defineProperty,a=Object.defineProperties,e=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,s=(a,e,l)=>e in a?t(a,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[e]=l,n=(t,a)=>{for(var e in a||(a={}))o.call(a,e)&&s(t,e,a[e]);if(l)for(var e of l(a))u.call(a,e)&&s(t,e,a[e]);return t},i=(t,l)=>a(t,e(l));import{q as c,d,a as r,_ as f,b}from"./page-wraper.CYTeNmK-.js";import{d as p,a3 as _,r as v,J as g,C as h,a6 as m,y as w,aa as k,L as $,b as y,g as z,w as j,h as C,i as V,E as O,D as x,K as P,q as T,u as F,e as I,f as q,l as Q,j as D,t as M}from"./index-Ddr6X_C9.js";import{_ as S}from"./wd-loading.CTKNgZO5.js";import{p as E,r as J,c as B}from"./clickoutside.CJmLG0WC.js";import{u as G}from"./useTouch.n5Kz6Dv7.js";import{b as H,c as K,a as L,_ as U}from"./base64.DGXTDNor.js";import{_ as X}from"./demo-block.D-RAYQ1B.js";import{_ as Y}from"./wd-button.C_ePM_xj.js";const A=i(n({},H),{modelValue:L("close"),disabled:K(!1),beforeClose:Function}),N=U(p(i(n({},{name:"wd-swipe-action",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:A,emits:["click","update:modelValue"],setup(t,{expose:a,emit:e}){const l=t,o=e,u=_(c,null),s=v(""),n=v(0),i=v(0),d=v(!1),r=G(),{proxy:f}=g();function b(t,a){l.disabled||p().then((([e,l])=>{switch(t){case"close":if(0===i.value)return;M("value",a);break;case"left":F(e);break;case"right":F(-l)}}))}function p(){return Promise.all([$(".wd-swipe-action__left",!1,f).then((t=>t.width?t.width:0)),$(".wd-swipe-action__right",!1,f).then((t=>t.width?t.width:0))])}function F(t=0){const a=`translate3d(${t}px, 0, 0)`,e=d.value?"none":".6s cubic-bezier(0.18, 0.89, 0.32, 1)";s.value=`\n        -webkit-transform: ${a};\n        -webkit-transition: ${e};\n        transform: ${a};\n        transition: ${e};\n      `,i.value=t}function I(t){l.disabled||0===i.value||(M("click",t=t||"inside"),o("click",{value:t}))}function q(t){l.disabled||(n.value=i.value,r.touchStart(t),u&&u.closeOther?u.closeOther(f):B(f))}function Q(t){if(l.disabled)return;if(r.touchMove(t),"vertical"===r.direction.value)return;t.preventDefault(),t.stopPropagation(),d.value=!0;const a=n.value+r.deltaX.value;p().then((([e,l])=>0===e&&a>0||0===l&&a<0?(F(0),q(t)):0!==e&&a>=e?(F(e),q(t)):0!==l&&-a>=l?(F(-l),q(t)):void F(a)))}function D(){if(l.disabled)return;const t=.3;d.value=!1,p().then((([a,e])=>{n.value<0&&i.value<0&&i.value-n.value<e*t?(F(-e),o("update:modelValue","right")):n.value>0&&i.value>0&&n.value-i.value<a*t?(F(a),o("update:modelValue","left")):e>0&&n.value>=0&&i.value<0&&Math.abs(i.value)>e*t?(F(-e),o("update:modelValue","right")):a>0&&n.value<=0&&i.value>0&&Math.abs(i.value)>a*t?(F(a),o("update:modelValue","left")):M("swipe")}))}function M(t,a){if("swipe"===t&&0===n.value)return F(0);"swipe"===t&&n.value>0?a="left":"swipe"===t&&n.value<0&&(a="right"),t&&a&&l.beforeClose&&l.beforeClose(t,a),F(0),"close"!==l.modelValue&&o("update:modelValue","close")}return h((()=>l.modelValue),((t,a)=>{b(t,a)}),{deep:!0}),m((()=>{u&&u.pushToQueue?u.pushToQueue(f):E(f),n.value=0,i.value=0,d.value=!1})),w((()=>{d.value=!0,b(l.modelValue),d.value=!1})),k((()=>{u&&u.removeFromQueue?u.removeFromQueue(f):J(f)})),a({close:M}),(t,a)=>{const e=V;return z(),y(e,{class:T(`wd-swipe-action ${t.customClass}`),style:O(t.customStyle),onClick:a[2]||(a[2]=P((t=>I()),["stop"])),onTouchstart:q,onTouchmove:Q,onTouchend:D,onTouchcancel:D},{default:j((()=>[C(e,{class:"wd-swipe-action__wrapper",style:O(s.value)},{default:j((()=>[C(e,{class:"wd-swipe-action__left",onClick:a[0]||(a[0]=t=>I("left"))},{default:j((()=>[x(t.$slots,"left",{},void 0,!0)])),_:3}),x(t.$slots,"default",{},void 0,!0),C(e,{class:"wd-swipe-action__right",onClick:a[1]||(a[1]=t=>I("right"))},{default:j((()=>[x(t.$slots,"right",{},void 0,!0)])),_:3})])),_:3},8,["style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-4e3986a8"]]),R=U(p({__name:"Index",setup(t){const{t:a}=F(),{closeOutside:e}=d(),l=r(),o=v("close"),u=(t,e)=>{"click"===t?l.show(a("reason-position-dao-zhi-hua-dong-an-niu-guan-bi",[t,e])):l.show(a("reason-dao-zhi-position-hua-dong-an-niu-guan-bi",[t,e]))};function s(t){o.value=t}function n({value:t}){l.show(a("dian-ji-value-guan-bi-cao-zuo-an-niu",[t]))}function i(t){l.show(a("dian-ji-le-action")+t)}function c(){}return(t,a)=>{const l=I(q("wd-toast"),b),d=I(q("wd-cell"),S),r=V,p=I(q("wd-swipe-action"),N),_=I(q("demo-block"),X),v=I(q("wd-button"),Y),g=I(q("page-wraper"),f);return z(),y(g,null,{default:j((()=>[C(l),C(r,{onClick:P(Q(e),["stop"])},{default:j((()=>[C(_,{transparent:"",title:t.$t("jiBenYongFa")},{default:j((()=>[C(p,null,{right:j((()=>[C(r,{class:"action"},{default:j((()=>[C(r,{class:"button",style:{background:"#fa4350"},onClick:a[0]||(a[0]=t=>i("操作1"))},{default:j((()=>[D(M(t.$t("cao-zuo-1")),1)])),_:1}),C(r,{class:"button",style:{background:"#f0883a"},onClick:a[1]||(a[1]=t=>i("操作2"))},{default:j((()=>[D(M(t.$t("cao-zuo-2")),1)])),_:1}),C(r,{class:"button",style:{background:"#4d80f0"},onClick:a[2]||(a[2]=t=>i("操作3"))},{default:j((()=>[D(M(t.$t("cao-zuo-3")),1)])),_:1})])),_:1})])),default:j((()=>[C(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"]),C(_,{transparent:"",title:t.$t("zuo-you-hua-dong")},{default:j((()=>[C(p,null,{left:j((()=>[C(r,{class:"action"},{default:j((()=>[C(r,{class:"button",style:{background:"#fa4350"}},{default:j((()=>[D(M(t.$t("cao-zuo-1-0")),1)])),_:1}),C(r,{class:"button",style:{background:"#f0883a"}},{default:j((()=>[D(M(t.$t("cao-zuo-2-0")),1)])),_:1}),C(r,{class:"button",style:{background:"#4d80f0"}},{default:j((()=>[D(M(t.$t("cao-zuo-3-0")),1)])),_:1})])),_:1})])),right:j((()=>[C(r,{class:"action"},{default:j((()=>[C(r,{class:"button",style:{background:"#fa4350"}},{default:j((()=>[D(M(t.$t("cao-zuo-4")),1)])),_:1}),C(r,{class:"button",style:{background:"#f0883a"}},{default:j((()=>[D(M(t.$t("cao-zuo-5")),1)])),_:1}),C(r,{class:"button",style:{background:"#4d80f0"}},{default:j((()=>[D(M(t.$t("cao-zuo-6")),1)])),_:1})])),_:1})])),default:j((()=>[C(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"]),C(_,{transparent:"",title:t.$t("qie-huan-an-niu")},{default:j((()=>[C(p,{modelValue:o.value,"onUpdate:modelValue":a[3]||(a[3]=t=>o.value=t),"before-close":u},{left:j((()=>[C(r,{class:"action"},{default:j((()=>[C(r,{class:"button",style:{background:"#fa4350"}},{default:j((()=>[D(M(t.$t("cao-zuo-1-1")),1)])),_:1}),C(r,{class:"button",style:{background:"#f0883a"}},{default:j((()=>[D(M(t.$t("cao-zuo-2-1")),1)])),_:1}),C(r,{class:"button",style:{background:"#4d80f0"}},{default:j((()=>[D(M(t.$t("cao-zuo-3-1")),1)])),_:1})])),_:1})])),right:j((()=>[C(r,{class:"action"},{default:j((()=>[C(r,{class:"button",style:{background:"#fa4350"}},{default:j((()=>[D(M(t.$t("cao-zuo-4-0")),1)])),_:1}),C(r,{class:"button",style:{background:"#f0883a"}},{default:j((()=>[D(M(t.$t("cao-zuo-5-0")),1)])),_:1}),C(r,{class:"button",style:{background:"#4d80f0"}},{default:j((()=>[D(M(t.$t("cao-zuo-6-0")),1)])),_:1})])),_:1})])),default:j((()=>[C(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),C(r,{class:"button-group"},{default:j((()=>[C(r,{onClick:P(c,["stop"])},{default:j((()=>[C(v,{size:"small",onClick:a[4]||(a[4]=t=>s("left"))},{default:j((()=>[D(M(t.$t("da-kai-zuo-bian")),1)])),_:1})])),_:1}),C(r,{onClick:P(c,["stop"])},{default:j((()=>[C(v,{size:"small",onClick:a[5]||(a[5]=t=>s("close"))},{default:j((()=>[D(M(t.$t("guan-bi-suo-you")),1)])),_:1})])),_:1}),C(r,{onClick:P(c,["stop"])},{default:j((()=>[C(v,{size:"small",onClick:a[6]||(a[6]=t=>s("right"))},{default:j((()=>[D(M(t.$t("da-kai-you-bian")),1)])),_:1})])),_:1})])),_:1}),C(_,{transparent:"",title:t.$t("dian-ji-shi-jian")},{default:j((()=>[C(p,{onClick:n},{right:j((()=>[C(r,{class:"action"},{default:j((()=>[C(r,{class:"button",style:{background:"#fa4350"}},{default:j((()=>[D(M(t.$t("cao-zuo-1-2")),1)])),_:1}),C(r,{class:"button",style:{background:"#f0883a"}},{default:j((()=>[D(M(t.$t("cao-zuo-2-2")),1)])),_:1}),C(r,{class:"button",style:{background:"#4d80f0"}},{default:j((()=>[D(M(t.$t("cao-zuo-3-2")),1)])),_:1})])),_:1})])),default:j((()=>[C(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"]),C(_,{transparent:"",title:t.$t("jin-yong-hua-dong-an-niu")},{default:j((()=>[C(p,{disabled:""},{right:j((()=>[C(r,{class:"action"},{default:j((()=>[C(r,{class:"button",style:{background:"#fa4350"}},{default:j((()=>[D(M(t.$t("cao-zuo-1-3")),1)])),_:1}),C(r,{class:"button",style:{background:"#f0883a"}},{default:j((()=>[D(M(t.$t("cao-zuo-2-3")),1)])),_:1}),C(r,{class:"button",style:{background:"#4d80f0"}},{default:j((()=>[D(M(t.$t("cao-zuo-3-3")),1)])),_:1})])),_:1})])),default:j((()=>[C(d,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"])])),_:1},8,["onClick"])])),_:1})}}}),[["__scopeId","data-v-30b7fbf6"]]);export{R as default};
