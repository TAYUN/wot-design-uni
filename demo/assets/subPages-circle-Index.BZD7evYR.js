var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,r=(e,l)=>{for(var a in l||(l={}))o.call(l,a)&&u(e,a,l[a]);if(t)for(var a of t(l))s.call(l,a)&&u(e,a,l[a]);return e},i=(e,t)=>l(e,a(t));import{u as c,_ as n}from"./wd-message-box.Car9cbHW.js";import{d,J as m,r as v,Y as p,c as f,H as h,G as y,C as w,a6 as _,Z as g,y as V,a4 as b,b as x,g as k,w as j,h as z,_ as $,E as O,i as S,D as C,k as P,j as F,t as I,q as L,a1 as M,O as U,u as E,e as T,f as G}from"./index-Ddr6X_C9.js";import{b as W,c as q,a as D,m as H,_ as R}from"./base64.DGXTDNor.js";import{_ as A}from"./demo-block.D-RAYQ1B.js";import{_ as B}from"./wd-button.C_ePM_xj.js";import{_ as J}from"./page-wraper.CYTeNmK-.js";import"./wd-loading.CTKNgZO5.js";import"./wd-input.Dh31V7z_.js";import"./useTranslate.zeM_cXdJ.js";const N=i(r({},W),{modelValue:H(0),size:H(100),color:{type:[String,Object],default:"#4d80f0"},layerColor:D("#EBEEF5"),fill:String,speed:H(50),text:String,strokeWidth:H(10),strokeLinecap:D("round"),clockwise:q(!0)}),Y=R(d(i(r({},{name:"wd-circle",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:N,setup(e){const l=2*Math.PI,a=-Math.PI/2,t=1,o=e,{proxy:s}=m(),u=v(""),r=v(0),i=v(null),c=v(1),n=v(`wd-circle${p()}`);let d=null;const E=f((()=>o.size)),T=f((()=>o.strokeWidth)),G=f((()=>{const e={width:h(o.size),height:h(o.size)};return`${y(e)}`}));function W(e,l,a,t,s){let u=T.value;const r=E.value/2;s||(u/=2);const i=r-u/2;e.strokeStyle=l,e.setStrokeStyle(l),e.setLineWidth(u),e.setLineCap(o.strokeLinecap),e.beginPath(),e.arc(r,r,i,a,t,!o.clockwise),e.stroke(),s&&(e.setLineWidth(u),e.setFillStyle(s),e.fill())}function q(e){new Promise((e=>{if(d)return e(d);d=M(n.value,s),e(d)})).then((t=>{t.clearRect(0,0,E.value,E.value),function(e){W(e,o.layerColor,0,l,o.fill)}(t);const s=(r=e,Math.min(Math.max(r,0),100));var r;0!==s?function(e,t){const s=l*(t/100),r=o.clockwise?a+s:3*Math.PI-(a+s);if(U(o.color)){const l=e.createLinearGradient(E.value,0,0,0);Object.keys(o.color).sort(((e,l)=>parseFloat(e)-parseFloat(l))).map((e=>l.addColorStop(parseFloat(e)/100,o.color[e]))),u.value=l}else u.value=o.color;W(e,u.value,a,r)}(t,s):function(e){const a=T.value,t=E.value/2;if(U(o.color)){const l=e.createLinearGradient(E.value,0,0,0);Object.keys(o.color).sort(((e,l)=>parseFloat(e)-parseFloat(l))).map((e=>l.addColorStop(parseFloat(e)/100,o.color[e]))),u.value=l}else u.value=o.color;e.beginPath(),e.arc(t,a/4,a/4,0,l),e.setFillStyle(u.value),e.fill()}(t),t.draw()}))}function D(){i.value&&clearTimeout(i.value)}return w((()=>o.modelValue),(()=>{!function(){if(o.speed<=0||o.speed>1e3)return void q(o.modelValue);D(),r.value=r.value||0;const e=()=>{i.value=setTimeout((()=>{r.value!==o.modelValue?(Math.abs(r.value-o.modelValue)<t?r.value=o.modelValue:r.value<o.modelValue?r.value+=t:r.value-=t,q(r.value),e()):D()}),1e3/o.speed)};e()}()}),{immediate:!0}),w((()=>o.size),(()=>{let e=setTimeout((()=>{q(r.value),clearTimeout(e)}),50)}),{immediate:!1}),w((()=>o.color),(()=>{q(r.value)}),{immediate:!1,deep:!0}),_((()=>{c.value=g().pixelRatio})),V((()=>{r.value=o.modelValue,q(r.value)})),b((()=>{D()})),(e,l)=>{const a=$,t=S,o=P;return k(),x(t,{class:L(`wd-circle ${e.customClass}`),style:O(e.customStyle)},{default:j((()=>[z(a,{width:E.value,height:E.value,style:O(G.value),id:n.value,"canvas-id":n.value},null,8,["width","height","style","id","canvas-id"]),e.text?(k(),x(o,{key:1,class:"wd-circle__text"},{default:j((()=>[F(I(e.text),1)])),_:1})):(k(),x(t,{key:0,class:"wd-circle__text"},{default:j((()=>[C(e.$slots,"default",{},void 0,!0)])),_:3}))])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-2a85ae06"]]),Z=R(d({__name:"Index",setup(e){const{t:l}=E(),a=v(20),t={0:"red",100:"white"};function o(){a.value<100&&(a.value+=10)}function s(){a.value>0&&(a.value-=10)}const u=c();function r(){u.alert(l("cao-zuo-cheng-gong"))}return(e,l)=>{const u=T(G("wd-message-box"),n),i=T(G("wd-circle"),Y),c=T(G("demo-block"),A),d=S,m=T(G("wd-button"),B),v=T(G("page-wraper"),J);return k(),x(d,{class:"circle"},{default:j((()=>[z(v,null,{default:j((()=>[z(u),z(c,{title:e.$t("ji-chu-yong-fa")},{default:j((()=>[z(i,{"custom-class":"custom-circle",modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),text:a.value+"%"},null,8,["modelValue","text"])])),_:1},8,["title"]),z(c,{title:e.$t("yang-shi-ding-zhi")},{default:j((()=>[z(i,{"custom-class":"custom-circle",modelValue:a.value,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value=e),"stroke-width":6,text:e.$t("kuan-du-ding-zhi")},null,8,["modelValue","text"]),z(i,{"custom-class":"custom-circle",modelValue:a.value,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value=e),"layer-color":"#eee",color:"#ee0a24",text:e.$t("yan-se-ding-zhi")},null,8,["modelValue","text"]),z(i,{"custom-class":"custom-circle",modelValue:a.value,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value=e),color:t,text:e.$t("jian-bian-se")},null,8,["modelValue","text"]),z(i,{"custom-class":"custom-circle",modelValue:a.value,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value=e),color:"#07c160",clockwise:!1,text:e.$t("ni-shi-zhen")},null,8,["modelValue","text"]),z(i,{"custom-class":"custom-circle",modelValue:a.value,"onUpdate:modelValue":l[5]||(l[5]=e=>a.value=e),size:120,text:e.$t("da-xiao-ding-zhi")},null,8,["modelValue","text"])])),_:1},8,["title"]),z(c,{title:e.$t("shi-yong-slot")},{default:j((()=>[z(i,{"custom-class":"custom-circle",modelValue:a.value,"onUpdate:modelValue":l[6]||(l[6]=e=>a.value=e),"stroke-width":6},{default:j((()=>[z(d,{style:{color:"red"}},{default:j((()=>[F(I(a.value)+"%",1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["title"]),z(c,null,{default:j((()=>[z(m,{"custom-style":"margin-right:24rpx",type:"primary",size:"small",onClick:o},{default:j((()=>[F(I(e.$t("zeng-jia")),1)])),_:1}),z(m,{type:"error",size:"small",onClick:s},{default:j((()=>[F(I(e.$t("jian-shao")),1)])),_:1})])),_:1}),z(c,{title:"alert"},{default:j((()=>[z(m,{onClick:r},{default:j((()=>[F("alert")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-7f90133c"]]);export{Z as default};
