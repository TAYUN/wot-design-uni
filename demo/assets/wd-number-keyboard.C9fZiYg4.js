var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,d=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&r(e,a,t[a]);if(l)for(var a of l(t))o.call(t,a)&&r(e,a,t[a]);return e},n=(e,l)=>t(e,a(l));import{d as u,r as c,c as i,b as y,g as m,i as p,q as x,w as b,h as k,z as f,m as w,F as _,j as v,t as h,ay as g,C as O,E as j,D as K,k as S,n as T}from"./index-Ddr6X_C9.js";import{b as I,a as C}from"./wd-loading.CTKNgZO5.js";import{c as P,d as V,a as z,w as A,_ as D,b as $,m as B}from"./base64.DGXTDNor.js";import{u as M}from"./useTouch.n5Kz6Dv7.js";const q={type:z(""),text:V(""),wider:P(!1),large:P(!1),loading:P(!1)},E=D(u(n(d({},{name:"wd-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:q,emits:["press"],setup(e,{emit:t}){const a=e,l=t,s=M(),o=c(!1),r=i((()=>`wd-key ${a.large?"wd-key--large":""} ${"delete"===a.type?"wd-key--delete":""} ${"close"===a.type?"wd-key--close":""}`));function d(e){s.touchStart(e),o.value=!0}function n(e){s.touchMove(e),s.direction.value&&(o.value=!1)}function u(){o.value&&(o.value=!1,l("press",a.text,a.type))}return(e,t)=>{const l=p;return m(),y(l,{class:x("wd-key-wrapper "+(e.wider?"wd-key-wrapper--wider":"")),onTouchstart:d,onTouchmove:n,onTouchend:u},{default:b((()=>[k(l,{class:x(r.value)},{default:b((()=>[a.loading?(m(),y(I,{key:0,"custom-class":"wd-key__loading-icon"})):f("",!0),"delete"===e.type?(m(),w(_,{key:1},[e.text?(m(),w(_,{key:0},[v(h(e.text),1)],64)):(m(),y(A,{key:1,"custom-class":"wd-key__icon",name:"keyboard-delete",size:"22px"}))],64)):"extra"===e.type?(m(),w(_,{key:2},[e.text?(m(),w(_,{key:0},[v(h(e.text),1)],64)):(m(),y(A,{key:1,"custom-class":"wd-key__icon",name:"keyboard-collapse",size:"22px"}))],64)):(m(),w(_,{key:3},[v(h(e.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}})),[["__scopeId","data-v-82fa53f0"]]),F=n(d({},$),{visible:P(!1),modelValue:z(""),title:String,mode:z("default"),zIndex:B(100),maxlength:B(1/0),showDeleteKey:P(!0),randomKeyOrder:P(!1),closeText:String,deleteText:String,closeButtonLoading:P(!1),modal:P(!1),hideOnClickOutside:P(!0),lockScroll:P(!0),safeAreaInsetBottom:P(!0),extraKey:[String,Array]}),G=D(u(n(d({},{name:"wd-number-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:F,emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:t}){const a=e,l=t,s=g(),o=c(a.visible);O((()=>a.visible),(e=>{o.value=e}));const r=i((()=>"custom"===a.mode?function(){const e=I(),t=Array.isArray(a.extraKey)?a.extraKey:[a.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...I(),{text:a.extraKey,type:"extra"},{text:0},{text:a.showDeleteKey?a.deleteText:"",type:a.showDeleteKey?"delete":""}])),d=i((()=>a.closeText&&"default"===a.mode)),n=i((()=>!!a.title||!!s.title)),u=i((()=>n.value||d.value));function I(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return a.randomKeyOrder?function(e){const t=[...e];for(let a=t.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[t[a],t[e]]=[t[e],t[a]]}return t}(e):e}const P=()=>{l("close"),l("update:visible",!1)},V=(e,t)=>{if(""===e&&"extra"===t)return P();const s=a.modelValue;"delete"===t?(l("delete"),l("update:modelValue",s.slice(0,s.length-1))):"close"===t?P():s.length<+a.maxlength&&(l("input",e),l("update:modelValue",s+e))};return(e,t)=>{const a=S,l=p;return m(),y(C,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,onClickModal:P},{default:b((()=>[k(l,{class:x(`wd-number-keyboard ${e.customClass}`),style:j(e.customStyle)},{default:b((()=>[u.value?(m(),y(l,{key:0,class:"wd-number-keyboard__header"},{default:b((()=>[n.value?K(e.$slots,"title",{key:0},(()=>[k(a,{class:"wd-number-keyboard__title"},{default:b((()=>[v(h(e.title),1)])),_:1})]),!0):f("",!0),d.value?(m(),y(l,{key:1,class:"wd-number-keyboard__close","hover-class":"wd-number-keyboard__close--hover",onClick:P},{default:b((()=>[k(a,null,{default:b((()=>[v(h(e.closeText),1)])),_:1})])),_:1})):f("",!0)])),_:3})):f("",!0),k(l,{class:"wd-number-keyboard__body"},{default:b((()=>[k(l,{class:"wd-number-keyboard__keys"},{default:b((()=>[(m(!0),w(_,null,T(r.value,(e=>(m(),y(E,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:V},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(m(),y(l,{key:0,class:"wd-number-keyboard__sidebar"},{default:b((()=>[e.showDeleteKey?(m(),y(E,{key:0,large:"",text:e.deleteText,type:"delete",onPress:V},null,8,["text"])):f("",!0),k(E,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:V},null,8,["text","loading"])])),_:1})):f("",!0)])),_:1})])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll"])}}})),[["__scopeId","data-v-0e556804"]]);export{G as _};
