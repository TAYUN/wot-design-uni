var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(s,t,o)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,i=(e,s)=>{for(var t in s||(s={}))a.call(s,t)&&l(e,t,s[t]);if(o)for(var t of o(s))r.call(s,t)&&l(e,t,s[t]);return e},n=(e,o)=>s(e,t(o));import{d as u,r as p,c as d,B as c,az as m,Q as g,R as b,C as v,y as f,b as h,g as y,w as $,h as x,i as w,E as k,q as C,D as _,m as S,F as I,aA as T,j,t as P,aS as O,a5 as q,aT as z,s as D,aP as B}from"./index-Ddr6X_C9.js";import{b as N,a as E,c as G,n as H,w as A,_ as F}from"./base64.DGXTDNor.js";import{w as L}from"./wd-badge.DY_UDOpC.js";import{u as Q}from"./wd-loading.CTKNgZO5.js";import{u as R}from"./useChildren.Ckm0hsG6.js";const V=Symbol("wd-grid"),J=n(i({},N),{clickable:G(!1),square:G(!1),column:Number,border:G(!1),bgColor:E(""),gutter:Number,hoverClass:String}),K=n(i({},N),{customText:E(""),customIcon:E(""),icon:E(""),iconSize:E("26px"),text:String,url:String,linkType:E("navigateTo"),useSlot:G(!1),useIconSlot:G(!1),useTextSlot:G(!1),isDot:{type:Boolean,default:void 0},type:String,value:H,max:Number,badgeProps:Object}),M=F(u(n(i({},{name:"wd-grid-item",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:K,emits:["itemclick"],setup(e,{expose:s,emit:t}){const o=e,a=t,r=p(""),l=p(""),i=p(""),n=p(0),u=p(!1),B=p(!0),{parent:N}=Q(V),E=d((()=>c(N)&&c(N.children)?N.children.length:0)),G=d((()=>m(c(o.badgeProps)?g(o.badgeProps,b):{},g({max:o.max,isDot:o.isDot,modelValue:o.value,type:o.type},b))));function H(){if(!N)return;const e=N.children,s=N.props.column?100/N.props.column+"%":100/e.length+"%",t=N.props.gutter?`padding:${N.props.gutter}px ${N.props.gutter}px 0 0; background-color: transparent;`:"",o=N.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${s}`:"";l.value=N.props.gutter&&N.props.square?`right: ${N.props.gutter}px; bottom:${N.props.gutter}px;height: auto; background-color: ${N.props.bgColor}`:`background-color: ${N.props.bgColor}`,B.value=Boolean(N.props.border),u.value=Boolean(N.props.square),n.value=Number(N.props.gutter),r.value=`width: ${s}; ${o||t}`}function F(){if(N&&!N.props.clickable)return;const{url:e,linkType:s}=o;if(a("itemclick"),e)switch(s){case"navigateTo":D({url:e});break;case"reLaunch":z({url:e});break;case"redirectTo":q({url:e});break;case"switchTab":O({url:e});break;default:console.error(`[wot-design] warning(wd-grid-item): linkType can not be ${s}`)}}v((()=>E.value),(()=>{if(!N)return;const e=N.props.column?100/N.props.column+"%":100/(E.value||1)+"%",s=N.props.gutter?`padding:${N.props.gutter}px ${N.props.gutter}px 0 0; background-color: transparent;`:"",t=N.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${e}`:"";r.value=`width: ${e}; ${t||s}`}),{deep:!0,immediate:!0}),f((()=>{H()}));const R=d((()=>(null==N?void 0:N.props.clickable)?N.props.hoverClass?N.props.hoverClass:"wd-grid-item__content--hover":"none"));return s({setiIemClass:function(e){i.value=e},itemClass:i,init:H}),(e,s)=>{const t=w;return y(),h(t,{class:C(`wd-grid-item ${B.value&&!n.value?i.value:""} ${e.customClass}`),onClick:F,style:k(`${r.value};${e.customStyle}`)},{default:$((()=>[x(t,{class:C(`wd-grid-item__content ${u.value?"is-square":""} ${B.value&&n.value>0?"is-round":""}`),style:k(l.value),"hover-class":R.value},{default:$((()=>[e.useSlot?_(e.$slots,"default",{key:0},void 0,!0):(y(),S(I,{key:1},[x(t,{style:k("width:"+e.iconSize+"; height: "+e.iconSize),class:"wd-grid-item__wrapper"},{default:$((()=>[x(L,T({"custom-class":"badge"},G.value),{default:$((()=>[e.useIconSlot?_(e.$slots,"icon",{key:0},void 0,!0):(y(),h(A,{key:1,name:e.icon,size:e.iconSize,"custom-class":e.customIcon},null,8,["name","size","custom-class"]))])),_:3},16)])),_:3},8,["style"]),e.useTextSlot?_(e.$slots,"text",{key:0},void 0,!0):(y(),h(t,{key:1,class:"wd-grid-item__text custom-text"},{default:$((()=>[j(P(e.text),1)])),_:1}))],64))])),_:3},8,["class","style","hover-class"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-de8e65a0"]]),U=F(u(n(i({},{name:"wd-grid",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:J,setup(e){const s=()=>new Promise((e=>setTimeout(e,20))),t=e,{linkChildren:o,children:a}=R(V);o({props:t}),v((()=>t.column),((e,s)=>{e!==s&&((!e||e<=0)&&console.error("The number of columns attribute value is invalid. The attribute must be greater than 0 and it is not recommended to use a larger value attribute."),s&&i())}),{deep:!0,immediate:!0}),v((()=>t.border),(e=>{e&&Promise.resolve().then(s).then((()=>{i()}))}),{deep:!0,immediate:!0}),v((()=>a),(()=>{l()}),{deep:!0});const r=d((()=>`${t.gutter?"padding-left:"+t.gutter+"px;padding-bottom:"+t.gutter+"px;":""}${t.customStyle}`)),l=B((()=>{i()}),50);function i(){a&&a.forEach(((e,s)=>{if(t.border){const{column:o}=t;if(o){const t=a.length-1===s||(s+1)%o==0,r=s+1<=o;r&&e.$.exposed.setiIemClass("is-first"),t&&e.$.exposed.setiIemClass("is-right"),!r&&e.$.exposed.setiIemClass("is-border")}else e.$.exposed.setiIemClass("is-first");a.length-1===s&&e.$.exposed.setiIemClass(e.$.exposed.itemClass.value+" is-last")}e.$.exposed.init()}))}return(e,s)=>{const t=w;return y(),h(t,{class:C(`wd-grid ${e.customClass}`),style:k(r.value)},{default:$((()=>[_(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-eed24fe4"]]);export{M as _,U as a};
